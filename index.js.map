{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '47661758-276cd75f39684298817518b5c';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImg(searchQuery) {\n    return fetch(`${BASE_URL}?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`)\n        .then(response => {\n            return response.json();\n        })\n        .then(data => {\n            return data.hits;\n        });\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox;\n\nexport function renderCard(hits, gallery) {\n    clearGallery(gallery);\n    const markup = hits.map(hit => createGalleryCard(hit)).join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n    if (lightbox) {\n        lightbox.refresh();\n    } else {\n        lightbox = new SimpleLightbox('.gallery a');\n    }\n}\n\nfunction createGalleryCard({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) {\n    return `\n    <a class=\"gallery-item\" href=\"${largeImageURL}\">\n      <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p><span>Likes:</span> ${likes}</p>\n        <p><span>Views:</span> ${views}</p>\n        <p><span>Comments:</span> ${comments}</p>\n        <p><span>Downloads:</span> ${downloads}</p>\n      </div>\n    </a>\n  `;\n}\n\nexport function clearGallery(gallery) {\n    gallery.innerHTML = '';\n}\n\nexport function showErrorMessage(message) {\n    iziToast.error({\n        title: \"Error\",\n        message: message,\n    });\n}\n\nexport function showLoadingIndicator() {\n    const loader = document.createElement('div');\n    loader.className = 'loader';\n    document.body.appendChild(loader);\n}\n\nexport function hideLoadingIndicator() {\n    const loader = document.querySelector('.loader');\n    if (loader) {\n        document.body.removeChild(loader);\n    }\n}","import { fetchImg } from './js/pixabay-api.js';\nimport { renderCard, showErrorMessage, showLoadingIndicator, hideLoadingIndicator } from './js/render-functions.js';\n\n\nconst searchForm = document.querySelector(\"form\");\nconst gallery = document.querySelector('.gallery');\n\nsearchForm.addEventListener('submit', onSearch);\n\nfunction onSearch(e) {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const searchQuery = form.elements.query.value.trim();\n\n    if (searchQuery === '') {\n        showErrorMessage(\"Please enter a search query.\");\n        return;\n    }\n\n    showLoadingIndicator();\n    fetchImg(searchQuery)\n        .then(hits => {\n            hideLoadingIndicator();\n            if (hits.length === 0) {\n                showErrorMessage(\"Sorry, there are no images matching your search query. Please try again!\");\n                return;\n            }\n            renderCard(hits, gallery);\n        })\n        .catch(error => {\n            hideLoadingIndicator();\n            console.log(error);\n            showErrorMessage(\"Failed to fetch images. Please try again later.\");\n        });\n\n    form.reset();\n}"],"names":["API_KEY","BASE_URL","fetchImg","searchQuery","response","data","lightbox","renderCard","hits","gallery","clearGallery","markup","hit","createGalleryCard","SimpleLightbox","webformatURL","largeImageURL","tags","likes","views","comments","downloads","showErrorMessage","message","iziToast","showLoadingIndicator","loader","hideLoadingIndicator","searchForm","onSearch","form","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAASC,EAAa,CAClC,OAAO,MAAM,GAAGF,CAAQ,QAAQD,CAAO,MAAMG,CAAW,0DAA0D,EAC7G,KAAKC,GACKA,EAAS,MACnB,EACA,KAAKC,GACKA,EAAK,IACf,CACT,CCNA,IAAIC,EAEG,SAASC,EAAWC,EAAMC,EAAS,CACtCC,EAAaD,CAAO,EACpB,MAAME,EAASH,EAAK,IAAII,GAAOC,EAAkBD,CAAG,CAAC,EAAE,KAAK,EAAE,EAC9DH,EAAQ,mBAAmB,YAAaE,CAAM,EAC1CL,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAIQ,EAAe,YAAY,CAElD,CAEA,SAASD,EAAkB,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,GAAa,CACjG,MAAO;AAAA,oCACyBL,CAAa;AAAA,kBAC/BD,CAAY,UAAUE,CAAI;AAAA;AAAA,iCAEXC,CAAK;AAAA,iCACLC,CAAK;AAAA,oCACFC,CAAQ;AAAA,qCACPC,CAAS;AAAA;AAAA;AAAA,GAI9C,CAEO,SAASX,EAAaD,EAAS,CAClCA,EAAQ,UAAY,EACxB,CAEO,SAASa,EAAiBC,EAAS,CACtCC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,CACjB,CAAK,CACL,CAEO,SAASE,GAAuB,CACnC,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAY,SACnB,SAAS,KAAK,YAAYA,CAAM,CACpC,CAEO,SAASC,GAAuB,CACnC,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACA,SAAS,KAAK,YAAYA,CAAM,CAExC,CClDA,MAAME,EAAa,SAAS,cAAc,MAAM,EAC1CnB,EAAU,SAAS,cAAc,UAAU,EAEjDmB,EAAW,iBAAiB,SAAUC,CAAQ,EAE9C,SAASA,EAAS,EAAG,CACjB,EAAE,eAAc,EAChB,MAAMC,EAAO,EAAE,cACT3B,EAAc2B,EAAK,SAAS,MAAM,MAAM,OAE9C,GAAI3B,IAAgB,GAAI,CACpBmB,EAAiB,8BAA8B,EAC/C,MACH,CAEDG,IACAvB,EAASC,CAAW,EACf,KAAKK,GAAQ,CAEV,GADAmB,IACInB,EAAK,SAAW,EAAG,CACnBc,EAAiB,0EAA0E,EAC3F,MACH,CACDf,EAAWC,EAAMC,CAAO,CACpC,CAAS,EACA,MAAMsB,GAAS,CACZJ,IACA,QAAQ,IAAII,CAAK,EACjBT,EAAiB,iDAAiD,CAC9E,CAAS,EAELQ,EAAK,MAAK,CACd"}